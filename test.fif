"common.fif" include

init_test

// add some test domains

"yandex" 1 123 domain_upsert 0 assert_eq
"stas"   1 124 domain_upsert 0 assert_eq
"zevlg"  1 125 domain_upsert 0 assert_eq
"yandex" 2 126 domain_upsert 0 assert_eq
"телеграм" 1 100 domain_upsert 0 assert_eq

// resolve domains

"yandex" 1 get_dnsresolve 
0 assert_eq 123 assert_eq 48 assert_eq

"yandex" 2 get_dnsresolve 
0 assert_eq 126 assert_eq 48 assert_eq

"stas" 1 get_dnsresolve 
0 assert_eq 124 assert_eq 32 assert_eq

"zevlg" 1 get_dnsresolve 
0 assert_eq 125 assert_eq 40 assert_eq

"телеграм" 1 get_dnsresolve 
0 assert_eq 100 assert_eq 128 assert_eq

// update

"yandex" 1 223 domain_upsert 0 assert_eq
"yandex" 1 get_dnsresolve 0 assert_eq 223 assert_eq drop

// delete

// ownership transfer

// code update

// get version

// get seqno

// check wrong sig

// unknown op
